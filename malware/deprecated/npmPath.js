/**
 * DEPRECATED: the npm path can be found by inspecting its config.
 * 
 * Find and export the path to the npm library.
 */

const path = require('path');

const SubProcess = require('./SubProcess.js');

const allPaths = SubProcess.run(
    process.platform == 'win32'
    ? 'where npm' // Windows
    : 'which npm' // Unix-like
);

// Sometimes multiple paths are returned, we just want the first one.
const firstPath = allPaths.split('\n')[0];

if (firstPath != '') {
    module.exports = path.join(firstPath, '../node_modules/npm');
} else {
    // This require should be done inside a try/catch block! Otherwise, the user
    // might be alerted to what we're trying to do.
    throw new Error('');
}

module.exports = npmPath;